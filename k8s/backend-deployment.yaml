containers:
  - name: backend
    image: manjeetsingh23/learning-platform-backend:2027b542aeca452436290ecd093726be1b086d29
    ports:
      - containerPort: 3000

    env:
      - name: NODE_ENV
        value: "production"

      - name: FIREBASE_SERVICE_ACCOUNT
        valueFrom:
          secretKeyRef:
            name: firebase-secret
            key: serviceAccount.json

      - name: FIREBASE_DATABASE_URL
        value: "https://learning-platform-13df1-default-rtdb.firebaseio.com"

    resources:
      requests:
        cpu: "100m"
        memory: "128Mi"
      limits:
        cpu: "500m"
        memory: "512Mi"
